---
title:  "리스트"
date:   2019-01-19 20:21:03 +0900
---


## 자동판매기 

{% highlight python %}
# 자판기의 음료수 목록
merchandise = ['파워에이드', '코카콜라', '칠성사이다', '게토레이', '포카리스웨트', '스프라이트', '핫식스']
{% endhighlight %}

우리는 이미 리스트 자료형을 사용해 본 적이 있다.
자판기의 음료수 목록을 표현하기 위해서 음료수 이름들을 줄줄이 나열했던 것을 기억하는가?

**입력과 출력** 장에서 보왔던 이 자동판매기 음료수 목록이 바로 리스트이다.


## 리스트
리스트는 가장 기본적인 ‘순서가 있는 자료형’ 이다. 

파이썬 리스트의 특징은 다음과 같다.
* 요소 간에 순서가 있다.
* 요소의 순서는 0번째 부터 시작한다. (즉 위 리스트에서는 파워에이드가 0번째 음료수가 된다.)
* 고의로 바꾸지 않는 한 요소(item)의 순서가 유지된다.
* 리스트 요소의 개수를 리스트의 '길이' 라고 한다. 요소가 7개 들어 있는 리스트의 길이는 7이다.
* 선언 이후에 요소를 추가하거나 제거할 수 있으며, 이에 따라 요소의 순서가 변동될 수 있다.
* mutable(변할 수 있는) 한 자료형이다. mutable 이 무엇인지에 대해선 <a href="{{ site.baseurl }}/series/principles_of_python/arguments" target="_blank">
'mutable 과 immutable'</a>시간에 배우도록 하자.
* 서로 다른 자료형도 하나의 리스트 안에 들어갈 수 있다. 따라서 하나의 리스트 안에 정수도, 문자열도, 실수도 다 같이 들어갈 수 있다.
(이는 자바의‘배열’과 구분되는 차이이다. 자바의 배열은 같은 자료형만 들어간다.)


## 리스트의 선언
리스트는 [] 을 사용해서 선언할 수 있다.
{% highlight python %}
my_list = [] # 빈 리스트 생성
{% endhighlight %}

list() 도 빈 리스트를 생성한다. 지금은 그냥 `[]` 와 `list()` 중 
마음에 드는 방법을 사용하면 된다.
{% highlight python %}
my_list = list() # 빈 리스트 생성
{% endhighlight %}

그리고 그 안에 여러가지 객체를 담을 수 있다. 서로 자료형이 달라도 담을 수 있다.
{% highlight python %}
my_list = [3, 2.0, '안녕'] 
{% endhighlight %}


## 리스트에 새로운 요소 추가하기 

우리가 만들었던 파이썬 자동판매기가 선풍적인 인기를
끌고 있다고 한다. 자동 판매기 회사 사장으로 부터 
자판기에 새로운 음료수를 추가해 달라는 요청이 왔다.

![image-center]({{ site.baseurl }}/assets/images/2019-03-03-ceo.jpg){: .align-center}

**우리 자동판매기에 새로운 음료수를 들여 놓고 싶어요!**
{: .text-center}

이렇게 귀여운 사장의 부탁을 들어주지 않을 수 없다. 리스트에 새로운 요소를 추가하고 싶다면 .append() 를 사용하면 된다. 
{% highlight python %}
# 자판기의 음료수 목록
merchandise = ['파워에이드', '코카콜라', '칠성사이다', '게토레이', '포카리스웨트', '스프라이트', '핫식스']

merchandise.append('데자와')
merchandise.append('마운틴듀')

print(merchandise) # ['파워에이드', '코카콜라', '칠성사이다', '게토레이', '포카리스웨트', '스프라이트', '핫식스', '데자와', '마운틴듀']

{% endhighlight %}

이러면 사장님도 행복해 하실 것이다.
우리는 내친 김에 리스트가 갖고 있는 다른 기능들도 살펴보도록 하자.


## 리스트 요소에 접근
리스트는 0번 부터 번호를 매겨서 요소를 순서대로 저장한다.
자판기의 음료수 목록 중 n 번째 요소에 접근하고 싶다면 다음과 같이 한다. 

{% highlight python %}
# 자판기의 음료수 목록
merchandise = ['파워에이드', '코카콜라', '칠성사이다', '게토레이', '포카리스웨트', '스프라이트', '핫식스']

print(merchandise[0]) # merchandise 리스트의 0 번째 요소, 파워에이드
print(merchandise[1]) # merchandise 리스트의 1 번째 요소, 코카콜라
print(merchandise[6]) # merchandise 리스트의 6 번째 요소, 핫식스

{% endhighlight %}

리스트 각 요소에 매겨진 순서를 인덱스`index` 라고 부른다.


## (뒤에서 부터) 리스트 요소에 접근
뒤에서 부터 리스트 요소에 접근할 수도 있다. 인덱스가 각각
* -1 일때, 맨 뒤에서 첫 번째 요소에 접근한다.
* -2 일때 맨 뒤에서 두 번째 요소에 접근한다.

{% highlight python %}
# 자판기의 음료수 목록
merchandise = ['파워에이드', '코카콜라', '칠성사이다', '게토레이', '포카리스웨트', '스프라이트', '핫식스']

print(merchandise[-1]) # merchandise 리스트의 뒤에서 첫 번째 요소, 핫식스
print(merchandise[-2]) # merchandise 리스트의 뒤에서 두 번째 요소, 스프라이트

{% endhighlight %}

인덱스가 음수일 때는 0부터 세는 것이 아니라 -1 부터 세는데,
이는 숫자 0에 +0 혹은 -0 이 없기 때문이니 이해해주도록 하자.



## 리스트 요소의 탐색 

for 문을 사용해서 리스트의 요소를 순회하려면 다음과 같이 한다.

{% highlight python %}
# 자판기의 음료수 목록
merchandise = ['파워에이드', '코카콜라', '칠성사이다', '게토레이', '포카리스웨트', '스프라이트', '핫식스']

for drink in merchandise:
    print(drink)
{% endhighlight %}

인덱스를 사용해 리스트의 요소에 접근할 수 있다는 점을 이용하면 이렇게도 만들 수 있다.
{% highlight python %}
for i in range(0, len(merchandise)) # len(merchandise) = merchandise 리스트의 길이
    print(merchandise[i])
{% endhighlight %}


## 리스트 슬라이싱
파이썬은 튜플, 문자열, 리스트 등의 자료형에 슬라이싱 기능을 지원한다.
리스트의 일부 요소만 떼어내 새로운 리스트를 만드는 것을 리스트 슬라이싱 이라고 한다.
먼저 예제를 보자.
{% highlight python %}
merchandise = ['파워에이드', '코카콜라', '칠성사이다', '게토레이', '포카리스웨트', '스프라이트', '핫식스']

print(merchandise[0:1]) # merchandise 의 0 번째 요소 부터 1-1(0) 까지의 요소를 가진 새 리스트를 만든다.
# ['파워에이드']
print(merchandise[0:3]) # merchandise 의 0 번째 요소 부터 3-1(2) 까지의 요소를 가진 새 리스트를 만든다.
# ['파워에이드', '코카콜라', '칠성사이다']
{% endhighlight %}

리스트 슬라이싱의 문법은 다음과 같다.

**리스트[<시작 인덱스>:<끝 인덱스>]** 
{: .text-center}



## 리스트 슬라이싱과 리스트의 복사
앞서 리스트 슬라이싱은 '새로운 리스트'를 만드는 것이라고 했다. 그 말 대로 리스트 슬라이싱은 새로운 리스트를 만들기 때문에
기존 리스트에는 수정을 가하지 않는다.

다음 예제를 보자.

{% highlight python %}
merchandise = ['파워에이드', '코카콜라', '칠성사이다', '게토레이', '포카리스웨트', '스프라이트', '핫식스']
soft_drinks = [] # 탄산음료로만 구성될 새로운 리스트

for drink in merchandise[:]: # merchandise[:] 는 리스트 전체를 복사한다.
    if drink in ['스프라이트', '핫식스', '코카콜라', '칠성사이다', ]:
        soft_drinks.append(drink)
    
print(soft_drinks) # ['코카콜라', '칠성사이다', '스프라이트', '핫식스'] 

{% endhighlight %}


기존 리스트를 솎아내는 작업 (리스트의 일부 요소만 뗴어 내서 새로운 리스트를 만들어야 할 때)
을 할 때에는 반드시 기존 리스트를 복사해야 하고, 그 결과를 새로운 리스트(soft_drinks)에 담는 것이 안전하다.
다음 예제를 보면 그 이유를 알 수 있다. 

{% highlight python %}
merchandise = ['파워에이드', '코카콜라', '칠성사이다', '게토레이', '포카리스웨트', '스프라이트', '핫식스']

for drink in merchandise:  # 주의! 복사를 하지 않았을 경우
    if drink not in ['스프라이트', '핫식스', '코카콜라', '칠성사이다']:
        merchandise.remove(drink) # 탄산음료가 아니라면 리스트에서 삭제

print(merchandise) # ['코카콜라', '칠성사이다', '포카리스웨트', '스프라이트', '핫식스']
{% endhighlight %}

혹시 위에서 봤던 soft_drinks 와 같은 결과가 나올 것이라 생각했는가?
하지만 실제로는 그렇지 않다. 포카리스웨트는 지워지지 않고 남아있다.
왜 이런일이 발생했을까?

for 문은 실행되는 순간 부터 인덱스를 0부터 순서대로 1씩 증가시키며 리스트를 순회한다.
**파워에이드 부터 핫식스 까지로 구성된 길이 7의 리스트**이다. 그런데 for 문이 실행되는 도중
리스트의 길이가 변경되면 예상하지 못한 결과가 발생한다.


| 실행 | 리스트의 상태 | 현재 인덱스 |
|:-------------:|:-------------:|:-----:|
| #1 | ['코카콜라', '칠성사이다', '게토레이', '포카리스웨트', '스프라이트', '핫식스'] | 0 (파워에이드 삭제)|
| #2 | ['코카콜라', '칠성사이다', '게토레이', '포카리스웨트', '스프라이트', '핫식스'] | 1 (현재 인덱스1 은 칠성사이다 이다. 즉 코카콜라를 건너 뛰었다.)|
| #3 | ['코카콜라', '칠성사이다', '게토레이', '포카리스웨트', '스프라이트', '핫식스'] | 2 (게토레이 삭제) |
| #4 | ['코카콜라', '칠성사이다', '포카리스웨트', '스프라이트', '핫식스'] | 3 (포카리스웨트를 건너 뛰었다) |
| #5 | ['코카콜라', '칠성사이다', '포카리스웨트', '스프라이트', '핫식스'] | 4 |
| #6 | ['코카콜라', '칠성사이다', '포카리스웨트', '스프라이트', '핫식스'] | 순회 종료 |

따라서 리스트 회전 중에 리스트 요소를 추가, 삭제 해야 할 경우 (리스트 길이에 변화가 생길 수 있는 경우)
반드시 기존 리스트를 복사하고, 새로운 리스트를 만들어서 그 결과를 할당해야 한다.
기존 리스트를 수정하면 정말로 잡기 어려운 버그가 생긴다.


**첫번째 실행:**  




## 연습 문제 1

다음 코드의 잘못된 부분을 찾아서 고쳐보세요
{% highlight python %}
merchandise = ['파워에이드', '코카콜라', '칠성사이다', '게토레이', '포카리스웨트', '스프라이트', '핫식스']
merchandise.append['데자와']
{% endhighlight %}




## 연습 문제

<a href="https://py.checkio.org/en/mission/sort-array-by-element-frequency/" target="_blank">링크</a>













